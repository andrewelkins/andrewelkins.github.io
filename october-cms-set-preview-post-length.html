<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>October CMS set preview post length &ndash; Andrew Elkins</title>

    <!-- Meta -->
    <meta name="description" content="Andrew Elkins &ndash; ">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Social -->
    <meta property="article:author" content="Andrew Elkins" />
    <meta property="article:section" content="octobercms, PHP, Programming" />
    <meta property="article:published_time" content="2014-10-07" />

    <meta property="og:type" content="article"/>
    <meta property="og:title" content="October CMS set preview post length"/>
    <meta property="og:description" content="October CMS is a brilliant new developer focused CMS. It reminds me of working on XenForo in it&#39;s ease of creating add-ons. A very nice system. After configuring the blog I needed to limit the post except size for post that didn&#39;t have an except. This meant shrinking the normal …"/>
    <meta property="og:site_name" content="Andrew Elkins" />
    <meta property="og:url" content="https://www.andrewelkins.com/blog/october-cms-set-preview-post-length.html"/>

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="October CMS set preview post length">
    <meta name="twitter:description" content="October CMS is a brilliant new developer focused CMS. It reminds me of working on XenForo in it&#39;s ease of creating add-ons. A very nice system. After configuring the blog I needed to limit the post except size for post that didn&#39;t have an except. This meant shrinking the normal …">
    <meta name="twitter:url" content="https://www.andrewelkins.com/blog/october-cms-set-preview-post-length.html">

    <!-- Feed -->
    <link rel="alternate" type="application/atom+xml" href="https://www.andrewelkins.com/blog/feeds/all.atom.xml" title="Andrew Elkins Atom Feed" />
    <link rel="alternate" type="application/atom+xml" href="https://www.andrewelkins.com/blog/feeds/octobercms-php-programming.atom.xml" title="Andrew Elkins Categories Atom Feed" />

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:regular,bold">
    <link rel="stylesheet" type="text/css" href="https://www.andrewelkins.com/blog/theme/css/w3.css">
    <link rel="stylesheet" type="text/css" href="https://www.andrewelkins.com/blog/theme/css/style.css">
    <link rel="stylesheet" type="text/css" href="https://www.andrewelkins.com/blog/theme/css/jqcloud.css">
    <link rel="stylesheet" type="text/css" href="https://www.andrewelkins.com/blog/theme/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://www.andrewelkins.com/blog/theme/css/pygments-highlight-github.css">
    <link rel="stylesheet" type="text/css" href="https://www.andrewelkins.com/blog/static/custom.css">

    <!-- Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="https://www.andrewelkins.com/blog/favicon.ico">

    <!-- JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://www.andrewelkins.com/blog/theme/js/jqcloud.min.js"></script>
  </head>

  <body>
    <div class="w3-row w3-card w3-white">
      <header id="header">
        <a href="https://www.andrewelkins.com/blog" id="header-logo" title="Home">AE</a>
        <nav id="header-menu">
          <ul>
            <li class="w3-bottombar w3-border-white w3-hover-border-green"><a href="/categories.html">Categories</a></li>
            <li class="w3-bottombar w3-border-white w3-hover-border-green"><a href="/archives.html">Archive</a></li>
          </ul>
        </nav>
      </header>
    </div>



    <br><br><br>

    <article>
      <header class="w3-container col-main">
        <h1>October CMS set preview post length</h1>
        <div class="post-info">
          <div class="w3-opacity w3-margin-right w3-margin-bottom" style="flex-grow: 1;">
            <span><time datetime="2014-10-07T09:05:00-07:00">Tue 07 October 2014</time> in <a href="https://www.andrewelkins.com/blog/category/octobercms-php-programming.html" title="All articles in category octobercms, PHP, Programming">octobercms, PHP, Programming</a></span>
          </div>
        </div>
      </header>

      <br>


      <div class="col-main w3-container">
        <section id="content">
          <p>October CMS is a brilliant new developer focused CMS. It reminds me of
working on XenForo in it's ease of creating add-ons. A very nice system.</p>
<p>After configuring the blog I needed to limit the post except size for
post that didn't have an except. This meant shrinking the normal content
on category list view and post list view. It turned out to be simple.</p>
<p>First open both the blog list template and category list template. Find
the code tab and click it.</p>
<p>Then add this:</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">onEnd</span><span class="p">()</span>  
<span class="p">{</span>  
<span class="k">if</span> <span class="p">(</span><span class="nx">isset</span><span class="p">(</span><span class="err">\</span><span class="nx">$this</span><span class="err">\</span><span class="p">[</span><span class="s1">&#39;posts&#39;</span><span class="err">\</span><span class="p">]))</span>  
<span class="nx">foreach</span><span class="p">(</span><span class="err">\</span><span class="nx">$this</span><span class="err">\</span><span class="p">[</span><span class="s1">&#39;posts&#39;</span><span class="err">\</span><span class="p">]</span> <span class="kr">as</span> <span class="o">&amp;</span><span class="err">\</span><span class="nx">$post</span><span class="p">)</span> <span class="p">{</span>  
<span class="err">\</span><span class="nx">$post</span><span class="o">-&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="nx">content</span><span class="err">\</span><span class="nx">_html</span> <span class="o">=</span> <span class="nx">wordwrap</span><span class="p">(</span><span class="err">\</span><span class="nx">$post</span><span class="o">-&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="nx">content</span><span class="err">\</span><span class="nx">_html</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span>  
<span class="err">\</span><span class="nx">$post</span><span class="o">-&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="nx">content</span><span class="err">\</span><span class="nx">_html</span> <span class="o">=</span> <span class="nx">explode</span><span class="p">(</span><span class="s2">&quot;\\n&quot;</span><span class="p">,</span> <span class="err">\</span><span class="nx">$post</span><span class="o">-&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="nx">content</span><span class="err">\</span><span class="nx">_html</span><span class="p">);</span>  
<span class="err">\</span><span class="nx">$post</span><span class="o">-&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="nx">content</span><span class="err">\</span><span class="nx">_html</span> <span class="o">=</span> <span class="err">\</span><span class="nx">$post</span><span class="o">-&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="nx">content</span><span class="err">\</span><span class="nx">_html</span><span class="err">\</span><span class="p">[</span><span class="mi">0</span><span class="err">\</span><span class="p">]</span> <span class="p">.</span> <span class="s1">&#39;...&#39;</span><span class="p">;</span>  
<span class="p">}</span>  
<span class="p">}</span>  
</pre></div>


<p>Before is display it'll be parsed and limited. The code is a bit of code
that I modified from SO. I'd link back but can't find the source thread
anymore.</p>
        </section>

        <br><br><br>

        <footer>
          <div class="adjust-width">
            <div id="author-block" class="w3-light-grey w3-border">
              <div id="author-info">
                <a href="https://andrewelkins.com"><img style="width: 60px; height: 60px;" src="http://www.gravatar.com/avatar/9ce362310261da087478fb439d9002c2?s=240" onerror="this.src='theme/images/avatar.png'" alt="Avatar"></a>
                <div style="margin-left: 20px; margin-top: 15px;">
                  <a href="https://andrewelkins.com"><span id="author-name" class="w3-hover-text-dark-grey">Andrew Elkins</span></a>
                  <p id="author-story">Exploring data engineering</p>
                </div>
              </div>
            </div>
          </div>

          <br><br><br>

          <p style="font-size:10pt; font-style: italic;">Did you like this article? Share it with your friends!</p>
          <div id="share" class="share">
            <a href="http://www.facebook.com/sharer.php?u=https%3A//www.andrewelkins.com/blog/october-cms-set-preview-post-length.html&amp;t=Andrew%20Elkins%3A%20October%20CMS%20set%20preview%20post%20length" target="_blank" class="w3-btn w3-indigo">
              <i class="fa fa-facebook"></i> <span>Facebook</span>
            </a>
            <a href="http://twitter.com/share?url=https%3A//www.andrewelkins.com/blog/october-cms-set-preview-post-length.html&amp;text=Andrew%20Elkins%3A%20October%20CMS%20set%20preview%20post%20length" target="_blank" class="w3-btn w3-blue">
              <i class="fa fa-twitter"></i> <span>Twitter</span>
            </a>
            <a href="https://plus.google.com/share?url=https%3A//www.andrewelkins.com/blog/october-cms-set-preview-post-length.html" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" class="w3-btn w3-red">
              <i class="fa fa-google-plus"></i> <span>Google</span>
            </a>
          </div>

          <br><br><br>



        </footer>
      </div>
    </article>


    <footer id="footer">
      <div id="footer-copyright" class="w3-center w3-small w3-text-grey w3-padding-48">
        <span>&copy; 2008-2018 Andrew Elkins  | <a href="https://www.andrewelkins.com/blog/feeds/all.atom.xml">Atom feed <i class="fa fa-rss" aria-hidden="true"></i></a></span>
      </div>
    </footer>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-9318136-7', 'auto');
      ga('send', 'pageview');
    </script>

  </body>
</html>